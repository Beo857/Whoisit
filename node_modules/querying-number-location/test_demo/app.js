const http = require('http');
const formHtml = '\
	<form action="/query" method="post">\
		<input type="text" name="phone">\
		<input type="submit" name="">\
	</form>';
// method 必须post name必须phone
const qnl = require('../index.js');

function onRequest(req,res){
	if(req.url==='/'){
		res.writeHead(200, {'Content-Type': 'text/html; charset=utf8'});
		res.end(formHtml);
	}else if(req.url==='/query'){
		return qnl.queryingLocation(req,res);
	}
	res.end();
}

http.createServer(onRequest).listen(8080);



//也可以引入express框架
// const express = require('express');
// const app = express();
// const qnl =  require('querying-number-location');

// app.use('/query',qnl.queryingLocation());
// app.use('/',function(){
//	res.send(formHtml);
//});
// app.listen(8080);